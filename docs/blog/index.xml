<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>BookShelf</title>
<link>https://gabrielwithappy.github.io/docs/blog/index.html</link>
<atom:link href="https://gabrielwithappy.github.io/docs/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>A online bookstore</description>
<generator>quarto-1.2.335</generator>
<lastBuildDate>Sun, 17 Sep 2023 15:00:00 GMT</lastBuildDate>
<item>
  <title>Plotly Animation 만들기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-18-plotly-animation/index.html</link>
  <description><![CDATA[ 



<section id="plotly-bubble-chart-만들기" class="level1">
<h1>Plotly Bubble chart 만들기</h1>


</section>

 ]]></description>
  <category>Data Visualization</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-18-plotly-animation/index.html</guid>
  <pubDate>Sun, 17 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/18/200/150" medium="image"/>
</item>
<item>
  <title>Plotly Treemap 만들기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-16-subplots-in-dash/index.html</link>
  <description><![CDATA[ 



<section id="plotly-treemap-만들기" class="level1">
<h1>Plotly Treemap 만들기</h1>
<p>Plotly로 Treemap을 만드는 방법을 정리합니다. 트래맵차트는 중첩된 직사각형을 이용하여 계층적 데이터를 효과적으로 시각화 할 수 있습니다. 데이터의 계층구조는 섹터와 상단의 경로표시줄리 이동할 수 있습니다. Plotly Express로 Treemap을 구성합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> plotly.express <span class="im" style="color: #00769E;">as</span> px</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-3">vendors <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">"Apple"</span>, <span class="st" style="color: #20794D;">"Google"</span>, <span class="st" style="color: #20794D;">"Hoo Bank"</span>, <span class="st" style="color: #20794D;">"Foo Investment"</span>, <span class="va" style="color: #111111;">None</span>, <span class="st" style="color: #20794D;">"Nvidia"</span>, <span class="st" style="color: #20794D;">"Meta"</span>, <span class="st" style="color: #20794D;">"Goo Investment"</span>, <span class="st" style="color: #20794D;">"Moo Bank"</span>, <span class="va" style="color: #111111;">None</span>]</span>
<span id="cb1-4">sectors <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">"Tech"</span>, <span class="st" style="color: #20794D;">"Tech"</span>, <span class="st" style="color: #20794D;">"Finance"</span>, <span class="st" style="color: #20794D;">"Finance"</span>, <span class="st" style="color: #20794D;">"Other"</span>,</span>
<span id="cb1-5">           <span class="st" style="color: #20794D;">"Tech"</span>, <span class="st" style="color: #20794D;">"Tech"</span>, <span class="st" style="color: #20794D;">"Finance"</span>, <span class="st" style="color: #20794D;">"Finance"</span>, <span class="st" style="color: #20794D;">"Other"</span>]</span>
<span id="cb1-6">regions <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">"North"</span>, <span class="st" style="color: #20794D;">"North"</span>, <span class="st" style="color: #20794D;">"North"</span>, <span class="st" style="color: #20794D;">"North"</span>, <span class="st" style="color: #20794D;">"North"</span>,</span>
<span id="cb1-7">           <span class="st" style="color: #20794D;">"South"</span>, <span class="st" style="color: #20794D;">"South"</span>, <span class="st" style="color: #20794D;">"South"</span>, <span class="st" style="color: #20794D;">"South"</span>, <span class="st" style="color: #20794D;">"South"</span>]</span>
<span id="cb1-8">sales <span class="op" style="color: #5E5E5E;">=</span> [<span class="dv" style="color: #AD0000;">100</span>,<span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">200</span>, <span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">200</span>, <span class="dv" style="color: #AD0000;">200</span>, <span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">200</span>, <span class="dv" style="color: #AD0000;">100</span>]</span>
<span id="cb1-9">df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame(</span>
<span id="cb1-10">    <span class="bu" style="color: null;">dict</span>(vendors<span class="op" style="color: #5E5E5E;">=</span>vendors, sectors<span class="op" style="color: #5E5E5E;">=</span>sectors, regions<span class="op" style="color: #5E5E5E;">=</span>regions, sales<span class="op" style="color: #5E5E5E;">=</span>sales)</span>
<span id="cb1-11">)</span>
<span id="cb1-12">df[<span class="st" style="color: #20794D;">"location"</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"all"</span> <span class="co" style="color: #5E5E5E;"># in order to have a single root node</span></span>
<span id="cb1-13">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>vendors</th>
      <th>sectors</th>
      <th>regions</th>
      <th>sales</th>
      <th>location</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Apple</td>
      <td>Tech</td>
      <td>North</td>
      <td>100</td>
      <td>all</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Google</td>
      <td>Tech</td>
      <td>North</td>
      <td>100</td>
      <td>all</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Hoo Bank</td>
      <td>Finance</td>
      <td>North</td>
      <td>200</td>
      <td>all</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Foo Investment</td>
      <td>Finance</td>
      <td>North</td>
      <td>100</td>
      <td>all</td>
    </tr>
    <tr>
      <th>4</th>
      <td>None</td>
      <td>Other</td>
      <td>North</td>
      <td>100</td>
      <td>all</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Nvidia</td>
      <td>Tech</td>
      <td>South</td>
      <td>200</td>
      <td>all</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Meta</td>
      <td>Tech</td>
      <td>South</td>
      <td>200</td>
      <td>all</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Goo Investment</td>
      <td>Finance</td>
      <td>South</td>
      <td>100</td>
      <td>all</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Moo Bank</td>
      <td>Finance</td>
      <td>South</td>
      <td>200</td>
      <td>all</td>
    </tr>
    <tr>
      <th>9</th>
      <td>None</td>
      <td>Other</td>
      <td>South</td>
      <td>100</td>
      <td>all</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>테스트를 위해 생성한 데이터프레임의 구조를 알아봅시다. <code>컬럼</code>은 <code>vendors</code>, <code>sectors</code>, <code>regions</code>, <code>sales</code>, <code>location</code>을 갖고 있습니다. <code>location</code> 컬럼의 모든 값을 <code>all</code>로 변경하여 전체를 표시합니다. 생성하는 <code>Treemap</code>은 <code>sales</code>의 값을 계층정보를 나타내는 컬럼을 <code>sales</code> 정보를 효과적으로 시각화하는 것을 목적으로 합니다. 전체 <code>sales</code>데이터가 <code>region</code>별로 비교하고 각 <code>region</code>안에서 <code>sector</code>별로 비교합니다. <code>sector</code>내무에서는 <code>vencor</code>별 비교를 알 수 있으면 좋겠습니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">fig <span class="op" style="color: #5E5E5E;">=</span> px.treemap(df,</span>
<span id="cb2-2">    path<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'location'</span>, <span class="st" style="color: #20794D;">'regions'</span>, <span class="st" style="color: #20794D;">'sectors'</span>,  <span class="st" style="color: #20794D;">'vendors'</span>],</span>
<span id="cb2-3">    values<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'sales'</span>)</span>
<span id="cb2-4">fig.update_layout(margin <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(t<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">50</span>, l<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, r<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, b<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>))</span>
<span id="cb2-5">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="d38bd76d-8e50-4ba5-864a-01790ea735c1" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d38bd76d-8e50-4ba5-864a-01790ea735c1")) {                    Plotly.newPlot(                        "d38bd76d-8e50-4ba5-864a-01790ea735c1",                        [{"branchvalues":"total","domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hovertemplate":"labels=%{label}<br>sales=%{value}<br>parent=%{parent}<br>id=%{id}<extra></extra>","ids":["all/North/Tech/Apple","all/North/Finance/Foo Investment","all/South/Finance/Goo Investment","all/North/Tech/Google","all/North/Finance/Hoo Bank","all/South/Tech/Meta","all/South/Finance/Moo Bank","all/South/Tech/Nvidia","all/North/Finance","all/South/Finance","all/North/Other","all/South/Other","all/North/Tech","all/South/Tech","all/North","all/South","all"],"labels":["Apple","Foo Investment","Goo Investment","Google","Hoo Bank","Meta","Moo Bank","Nvidia","Finance","Finance","Other","Other","Tech","Tech","North","South","all"],"name":"","parents":["all/North/Tech","all/North/Finance","all/South/Finance","all/North/Tech","all/North/Finance","all/South/Tech","all/South/Finance","all/South/Tech","all/North","all/South","all/North","all/South","all/North","all/South","all","all",""],"values":[100,100,100,100,200,200,200,200,300,300,100,100,200,400,600,800,1400],"type":"treemap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"legend":{"tracegroupgap":0},"margin":{"t":50,"l":25,"r":25,"b":25}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d38bd76d-8e50-4ba5-864a-01790ea735c1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>목적에 맞게 시각화한 결과를 확인합니다. 코드를 보면 계층의 순서에 맞춰 컬럼 정보를 <code>path</code>에 전달했습니다. 사각형의 크기를 결정하는 값은 <code>values</code>에 전달하고 <code>sales</code>컬럼 정보를 전달 했습니다. <code>path</code>로 전달된 정보를 확인하면 가장 먼저 <code>location</code> 컬럼이 전달되었습니다.</p>
<p>가장 큰 사각형에 <code>location</code> 정보가 표시되고 값은 전체 <code>sales</code>정보를 갖습니다. 사각형의 크기는 <code>sales</code>의 값으로 표시됩니다. <code>North</code>의 <code>Finance</code>영역의 크기를 확인하면 각 <code>vendor</code>의 값을 비교할 수 있습니다. <code>Hoo Bank</code>가 ’Foo Investment’보다 <code>sales</code>가 큰 값을 갖는 것을 직관적으로 확인할 수 있습니다. 물론 각 영역을 선택해서 자세한 값을 확인할 수 있습니다.</p>
<section id="treemap-색으로-값-비교하기" class="level2">
<h2 class="anchored" data-anchor-id="treemap-색으로-값-비교하기">Treemap 색으로 값 비교하기</h2>
<p>코드에 <code>color</code> 정보를 추가해서 값을 비교하겠습니다. 사각형의 색을 결정할 컬럼을 <code>sales</code>로 선택했습니다. 이제 각 사각형이 색을 갖습니다. 큰 값은 노란색 작은 값은 파란색으로 표시됩니다. <code>South</code>와 <code>North</code>의 <code>sales</code>값을 색으로 확인할 수 있습니다. 사각형의 위치가 멀어서 크기 확인이 어렵다면 색을 추가하여 값의 비교를 쉽게 할 수 있습니다.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">fig <span class="op" style="color: #5E5E5E;">=</span> px.treemap(df,</span>
<span id="cb3-2">    path<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'location'</span>, <span class="st" style="color: #20794D;">'regions'</span>, <span class="st" style="color: #20794D;">'sectors'</span>,  <span class="st" style="color: #20794D;">'vendors'</span>],</span>
<span id="cb3-3">    values<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'sales'</span>,</span>
<span id="cb3-4">    color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'sales'</span>)</span>
<span id="cb3-5">fig.update_layout(margin <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(t<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">50</span>, l<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, r<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, b<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>))</span>
<span id="cb3-6">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="4f54db05-0693-4bae-803f-5387a79c8039" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4f54db05-0693-4bae-803f-5387a79c8039")) {                    Plotly.newPlot(                        "4f54db05-0693-4bae-803f-5387a79c8039",                        [{"branchvalues":"total","customdata":[[100.0],[100.0],[100.0],[100.0],[200.0],[200.0],[200.0],[200.0],[166.66666666666666],[166.66666666666666],[100.0],[100.0],[100.0],[200.0],[133.33333333333334],[175.0],[157.14285714285714]],"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hovertemplate":"labels=%{label}<br>sales_sum=%{value}<br>parent=%{parent}<br>id=%{id}<br>sales=%{color}<extra></extra>","ids":["all/North/Tech/Apple","all/North/Finance/Foo Investment","all/South/Finance/Goo Investment","all/North/Tech/Google","all/North/Finance/Hoo Bank","all/South/Tech/Meta","all/South/Finance/Moo Bank","all/South/Tech/Nvidia","all/North/Finance","all/South/Finance","all/North/Other","all/South/Other","all/North/Tech","all/South/Tech","all/North","all/South","all"],"labels":["Apple","Foo Investment","Goo Investment","Google","Hoo Bank","Meta","Moo Bank","Nvidia","Finance","Finance","Other","Other","Tech","Tech","North","South","all"],"marker":{"coloraxis":"coloraxis","colors":[100.0,100.0,100.0,100.0,200.0,200.0,200.0,200.0,166.66666666666666,166.66666666666666,100.0,100.0,100.0,200.0,133.33333333333334,175.0,157.14285714285714]},"name":"","parents":["all/North/Tech","all/North/Finance","all/South/Finance","all/North/Tech","all/North/Finance","all/South/Tech","all/South/Finance","all/South/Tech","all/North","all/South","all/North","all/South","all/North","all/South","all","all",""],"values":[100,100,100,100,200,200,200,200,300,300,100,100,200,400,600,800,1400],"type":"treemap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"coloraxis":{"colorbar":{"title":{"text":"sales"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"margin":{"t":50,"l":25,"r":25,"b":25}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('4f54db05-0693-4bae-803f-5387a79c8039');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="treemap-색상-변경하기" class="level2">
<h2 class="anchored" data-anchor-id="treemap-색상-변경하기">Treemap 색상 변경하기</h2>
<p>색상은 다양한 옵션을 지원합니다. <code>color_continuous_scale</code> 정보를 전달해서 다른 색상을 사용합니다. 단색의 경우 색의 채도로 값의 크기를 표현합니다. <code>greens</code>로 정보를 전달해서 초록색의 채도를 이용하여 값을 표현합니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">fig <span class="op" style="color: #5E5E5E;">=</span> px.treemap(df,</span>
<span id="cb4-2">    path<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'location'</span>, <span class="st" style="color: #20794D;">'regions'</span>, <span class="st" style="color: #20794D;">'sectors'</span>,  <span class="st" style="color: #20794D;">'vendors'</span>],</span>
<span id="cb4-3">    values<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'sales'</span>,</span>
<span id="cb4-4">    color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'sales'</span>,</span>
<span id="cb4-5">    color_continuous_scale<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'greens'</span>)</span>
<span id="cb4-6">fig.update_layout(margin <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(t<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">50</span>, l<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, r<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>, b<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">25</span>))</span>
<span id="cb4-7">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="3f6eecee-4f8e-4f1c-b462-acf0fbc042de" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3f6eecee-4f8e-4f1c-b462-acf0fbc042de")) {                    Plotly.newPlot(                        "3f6eecee-4f8e-4f1c-b462-acf0fbc042de",                        [{"branchvalues":"total","customdata":[[100.0],[100.0],[100.0],[100.0],[200.0],[200.0],[200.0],[200.0],[166.66666666666666],[166.66666666666666],[100.0],[100.0],[100.0],[200.0],[133.33333333333334],[175.0],[157.14285714285714]],"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hovertemplate":"labels=%{label}<br>sales_sum=%{value}<br>parent=%{parent}<br>id=%{id}<br>sales=%{color}<extra></extra>","ids":["all/North/Tech/Apple","all/North/Finance/Foo Investment","all/South/Finance/Goo Investment","all/North/Tech/Google","all/North/Finance/Hoo Bank","all/South/Tech/Meta","all/South/Finance/Moo Bank","all/South/Tech/Nvidia","all/North/Finance","all/South/Finance","all/North/Other","all/South/Other","all/North/Tech","all/South/Tech","all/North","all/South","all"],"labels":["Apple","Foo Investment","Goo Investment","Google","Hoo Bank","Meta","Moo Bank","Nvidia","Finance","Finance","Other","Other","Tech","Tech","North","South","all"],"marker":{"coloraxis":"coloraxis","colors":[100.0,100.0,100.0,100.0,200.0,200.0,200.0,200.0,166.66666666666666,166.66666666666666,100.0,100.0,100.0,200.0,133.33333333333334,175.0,157.14285714285714]},"name":"","parents":["all/North/Tech","all/North/Finance","all/South/Finance","all/North/Tech","all/North/Finance","all/South/Tech","all/South/Finance","all/South/Tech","all/North","all/South","all/North","all/South","all/North","all/South","all","all",""],"values":[100,100,100,100,200,200,200,200,300,300,100,100,200,400,600,800,1400],"type":"treemap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"coloraxis":{"colorbar":{"title":{"text":"sales"}},"colorscale":[[0.0,"rgb(247,252,245)"],[0.125,"rgb(229,245,224)"],[0.25,"rgb(199,233,192)"],[0.375,"rgb(161,217,155)"],[0.5,"rgb(116,196,118)"],[0.625,"rgb(65,171,93)"],[0.75,"rgb(35,139,69)"],[0.875,"rgb(0,109,44)"],[1.0,"rgb(0,68,27)"]]},"legend":{"tracegroupgap":0},"margin":{"t":50,"l":25,"r":25,"b":25}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3f6eecee-4f8e-4f1c-b462-acf0fbc042de');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Treemap은 데이터의 계층 구조와 상대적인 크기를 보여주는 데 사용하면 효과적입니다. 복잡한 계층구조를 시각적으로 표현하기 때문에 쉽게 이해할 수 있으며 비교가 편합니다. 데이터가 어떤 특징을 갖는 지 확인하고 계층적구조를 갖는 다면 Treemap을 이용해서 표현하는 것을 고민하면 좋을 것 같습니다.</p>
</section>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<ol type="1">
<li>https://plotly.com/python/treemaps/</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Data Visualization</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-16-subplots-in-dash/index.html</guid>
  <pubDate>Sat, 16 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/17/200/150" medium="image"/>
</item>
<item>
  <title>Plotly Bubble chart 만들기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-17-plotly-bubblechart/index.html</link>
  <description><![CDATA[ 



<section id="plotly-bubble-chart-만들기" class="level1">
<h1>Plotly Bubble chart 만들기</h1>
<p>Plotly로 Bubble 차트 만들기를 연습합니다. 연습을 위한 데이터는 Plotly Express에서 제공하는 데이터를 사용합니다. <code>gapminder.org</code>에서 제공하는 데이터를 데이터프레임으로 불러옵니다. 데이터 구조를 확인하기 위해서 처음 3개의 데이터를 확인하겠습니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> plotly.express <span class="im" style="color: #00769E;">as</span> px</span>
<span id="cb1-2">df <span class="op" style="color: #5E5E5E;">=</span> px.data.gapminder()</span>
<span id="cb1-3">df.sample(<span class="dv" style="color: #AD0000;">3</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>country</th>
      <th>continent</th>
      <th>year</th>
      <th>lifeExp</th>
      <th>pop</th>
      <th>gdpPercap</th>
      <th>iso_alpha</th>
      <th>iso_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1470</th>
      <td>Sweden</td>
      <td>Europe</td>
      <td>1982</td>
      <td>76.420</td>
      <td>8325260</td>
      <td>20667.381250</td>
      <td>SWE</td>
      <td>752</td>
    </tr>
    <tr>
      <th>393</th>
      <td>Cuba</td>
      <td>Americas</td>
      <td>1997</td>
      <td>76.151</td>
      <td>10983007</td>
      <td>5431.990415</td>
      <td>CUB</td>
      <td>192</td>
    </tr>
    <tr>
      <th>958</th>
      <td>Mali</td>
      <td>Africa</td>
      <td>2002</td>
      <td>51.818</td>
      <td>10580176</td>
      <td>951.409752</td>
      <td>MLI</td>
      <td>466</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>여러 국가에 대한 정보를 연도별로 정리한 데이터입니다. 대한민국에 대한 데이터를 살펴보면 좀 더 의미있고 재미있는 시각화가 될 것 같습니다. <code>country</code>컬럼의 값이 <code>Korea, Rep.</code>인 데이터만 추출합니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df_korea <span class="op" style="color: #5E5E5E;">=</span> df[df[<span class="st" style="color: #20794D;">'country'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'Korea, Rep.'</span>]</span>
<span id="cb2-2">display(df_korea.head(<span class="dv" style="color: #AD0000;">3</span>))</span>
<span id="cb2-3">display(df[<span class="st" style="color: #20794D;">'year'</span>].describe())</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>country</th>
      <th>continent</th>
      <th>year</th>
      <th>lifeExp</th>
      <th>pop</th>
      <th>gdpPercap</th>
      <th>iso_alpha</th>
      <th>iso_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>840</th>
      <td>Korea, Rep.</td>
      <td>Asia</td>
      <td>1952</td>
      <td>47.453</td>
      <td>20947571</td>
      <td>1030.592226</td>
      <td>KOR</td>
      <td>410</td>
    </tr>
    <tr>
      <th>841</th>
      <td>Korea, Rep.</td>
      <td>Asia</td>
      <td>1957</td>
      <td>52.681</td>
      <td>22611552</td>
      <td>1487.593537</td>
      <td>KOR</td>
      <td>410</td>
    </tr>
    <tr>
      <th>842</th>
      <td>Korea, Rep.</td>
      <td>Asia</td>
      <td>1962</td>
      <td>55.292</td>
      <td>26420307</td>
      <td>1536.344387</td>
      <td>KOR</td>
      <td>410</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>count    1704.00000
mean     1979.50000
std        17.26533
min      1952.00000
25%      1965.75000
50%      1979.50000
75%      1993.25000
max      2007.00000
Name: year, dtype: float64</code></pre>
</div>
</div>
<p>데이터프레임의 <code>year</code>컬럼의 통계정보를 <code>describe()</code>함수로 확인하여 데이터가 <code>1952년</code> 부터 <code>2007년</code>까지 있음을 확인합니다. 버블차트를 이용하여 인구의 변화 양상을 시각화하겠습니다.</p>
<section id="버블차트-만들기" class="level2">
<h2 class="anchored" data-anchor-id="버블차트-만들기">버블차트 만들기</h2>
<p>데이터프레임의 인구를 버블차트로 표현합니다. y축에는 기대수명을 표시하고 <code>scatter</code> 차트를 버블차트로 표현하기 위해서 <code>size</code>에 인구정보를 전달했습니다. 이제 새로운 차트에서는 버블의 크기로 인구를 표시합니다..</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb4-2"></span>
<span id="cb4-3">fig <span class="op" style="color: #5E5E5E;">=</span> px.scatter(df.query(<span class="st" style="color: #20794D;">"country== 'Korea, Rep.'"</span>), x<span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'year'</span>, y<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'lifeExp'</span>, size<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"pop"</span>)</span>
<span id="cb4-4">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="8711fdd0-a530-4ca5-a8f3-b0ee8fd9ae47" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8711fdd0-a530-4ca5-a8f3-b0ee8fd9ae47")) {                    Plotly.newPlot(                        "8711fdd0-a530-4ca5-a8f3-b0ee8fd9ae47",                        [{"hovertemplate":"year=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","size":[20947571,22611552,26420307,30131000,33505000,36436000,39326000,41622000,43805450,46173816,47969150,49044790],"sizemode":"area","sizeref":122611.975,"symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"xaxis":"x","y":[47.453,52.681,55.292,57.716,62.612,64.766,67.123,69.81,72.244,74.64699999999998,77.045,78.623],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"lifeExp"}},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"margin":{"t":60}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8711fdd0-a530-4ca5-a8f3-b0ee8fd9ae47');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>버블차트를 살펴보면 1950년, 1970년 이후 기대수명이 크게 올라가는 것을 알 수 있습니다. 추가로 버블의 크기를 통해서 인구 증가폭이 2007년에 가까워 지면서 인구수의 변화가 작아짐을 알 수 있습니다.</p>
</section>
<section id="버블차트-색상-설정하기" class="level2">
<h2 class="anchored" data-anchor-id="버블차트-색상-설정하기">버블차트 색상 설정하기</h2>
<p>버블차트는 버블의 크기와 색상으로 각각 정보를 표현할 수 있습니다. 이번엔 버블에 색상을 추가하여 총 4개의 정보를 표현합니다. 각 컬럼정보<code>gdpPercap</code>은 1인당 GDP를 의미하고 <code>lifeExp</code>는 기대 수명을 의미합니다. 1인당 GDP 변화에 따른 기대수명과 인구를 대륙별로 비교합니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">fig <span class="op" style="color: #5E5E5E;">=</span> px.scatter(df.query(<span class="st" style="color: #20794D;">"year==2007"</span>), x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"gdpPercap"</span>, y<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"lifeExp"</span>,</span>
<span id="cb5-2">                  size<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"pop"</span>, color<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"continent"</span>,</span>
<span id="cb5-3">                hover_name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"country"</span>, log_x<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>, size_max<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">60</span>)</span>
<span id="cb5-4">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="98756518-a09c-4896-ae6d-0436d41c19ae" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("98756518-a09c-4896-ae6d-0436d41c19ae")) {                    Plotly.newPlot(                        "98756518-a09c-4896-ae6d-0436d41c19ae",                        [{"hovertemplate":"<b>%{hovertext}</b><br><br>continent=Asia<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","hovertext":["Afghanistan","Bahrain","Bangladesh","Cambodia","China","Hong Kong, China","India","Indonesia","Iran","Iraq","Israel","Japan","Jordan","Korea, Dem. Rep.","Korea, Rep.","Kuwait","Lebanon","Malaysia","Mongolia","Myanmar","Nepal","Oman","Pakistan","Philippines","Saudi Arabia","Singapore","Sri Lanka","Syria","Taiwan","Thailand","Vietnam","West Bank and Gaza","Yemen, Rep."],"legendgroup":"Asia","marker":{"color":"#636efa","size":[31889923,708573,150448339,14131858,1318683096,6980412,1110396331,223547000,69453570,27499638,6426679,127467972,6053193,23301725,49044790,2505559,3921278,24821286,2874127,47761980,28901790,3204897,169270617,91077287,27601038,4553009,20378239,19314747,23174294,65068149,85262356,4018332,22211743],"sizemode":"area","sizeref":366300.86,"symbol":"circle"},"mode":"markers","name":"Asia","orientation":"v","showlegend":true,"x":[974.5803384,29796.04834,1391.253792,1713.778686,4959.114854,39724.97867,2452.210407,3540.651564,11605.71449,4471.061906,25523.2771,31656.06806,4519.461171,1593.06548,23348.139730000006,47306.98978,10461.05868,12451.6558,3095.7722710000007,944.0,1091.359778,22316.19287,2605.94758,3190.481016,21654.83194,47143.17964,3970.095407,4184.548089,28718.27684,7458.396326999998,2441.576404,3025.349798,2280.769906],"xaxis":"x","y":[43.828,75.635,64.062,59.723,72.961,82.208,64.69800000000001,70.65,70.964,59.545,80.745,82.603,72.535,67.297,78.623,77.58800000000002,71.993,74.241,66.803,62.069,63.785,75.64,65.483,71.688,72.777,79.972,72.396,74.143,78.4,70.616,74.249,73.422,62.698],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>%{hovertext}</b><br><br>continent=Europe<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","hovertext":["Albania","Austria","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Czech Republic","Denmark","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Turkey","United Kingdom"],"legendgroup":"Europe","marker":{"color":"#EF553B","size":[3600523,8199783,10392226,4552198,7322858,4493312,10228744,5468120,5238460,61083916,82400996,10706290,9956108,301931,4109086,58147733,684736,16570613,4627926,38518241,10642836,22276056,10150265,5447502,2009245,40448191,9031088,7554661,71158647,60776238],"sizemode":"area","sizeref":366300.86,"symbol":"circle"},"mode":"markers","name":"Europe","orientation":"v","showlegend":true,"x":[5937.029525999998,36126.4927,33692.60508,7446.298803,10680.79282,14619.222719999998,22833.30851,35278.41874,33207.0844,30470.0167,32170.37442,27538.41188,18008.94444,36180.78919,40675.99635,28569.7197,9253.896111,36797.93332,49357.19017,15389.924680000002,20509.64777,10808.47561,9786.534714,18678.31435,25768.25759,28821.0637,33859.74835,37506.41907,8458.276384,33203.26128],"xaxis":"x","y":[76.423,79.829,79.441,74.852,73.005,75.748,76.486,78.332,79.313,80.657,79.406,79.483,73.33800000000002,81.757,78.885,80.546,74.543,79.762,80.196,75.563,78.098,72.476,74.002,74.663,77.926,80.941,80.884,81.70100000000002,71.777,79.425],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>%{hovertext}</b><br><br>continent=Africa<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","hovertext":["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Central African Republic","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"],"legendgroup":"Africa","marker":{"color":"#00cc96","size":[33333216,12420476,8078314,1639131,14326203,8390505,17696293,4369038,10238807,710960,64606759,3800610,18013409,496374,80264543,551201,4906585,76511887,1454867,1688359,22873338,9947814,1472041,35610177,2012649,3193942,6036914,19167654,13327079,12031795,3270065,1250882,33757175,19951656,2055080,12894865,135031164,798094,8860588,199579,12267493,6144562,9118773,43997828,42292929,1133066,38139640,5701579,10276158,29170398,11746035,12311143],"sizemode":"area","sizeref":366300.86,"symbol":"circle"},"mode":"markers","name":"Africa","orientation":"v","showlegend":true,"x":[6223.367465,4797.231267,1441.284873,12569.85177,1217.032994,430.0706916,2042.09524,706.016537,1704.063724,986.1478792,277.5518587,3632.557798,1544.750112,2082.4815670000007,5581.180998,12154.08975,641.3695236000002,690.8055759,13206.48452,752.7497265,1327.60891,942.6542111,579.2317429999998,1463.249282,1569.331442,414.5073415,12057.49928,1044.770126,759.3499101,1042.581557,1803.151496,10956.99112,3820.17523,823.6856205,4811.060429,619.6768923999998,2013.977305,7670.122558,863.0884639000002,1598.435089,1712.472136,862.5407561000002,926.1410683,9269.657808,2602.394995,4513.480643,1107.482182,882.9699437999999,7092.923025,1056.380121,1271.211593,469.70929810000007],"xaxis":"x","y":[72.301,42.731,56.728,50.728,52.295,49.58,50.43,44.74100000000001,50.651,65.152,46.462,55.322,48.328,54.791,71.33800000000002,51.57899999999999,58.04,52.947,56.735,59.448,60.022,56.007,46.38800000000001,54.11,42.592,45.678,73.952,59.44300000000001,48.303,54.467,64.164,72.801,71.164,42.082,52.90600000000001,56.867,46.859,76.442,46.242,65.528,63.062,42.56800000000001,48.159,49.339,58.556,39.613,52.517,58.42,73.923,51.542,42.38399999999999,43.487],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>%{hovertext}</b><br><br>continent=Americas<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","hovertext":["Argentina","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Dominican Republic","Ecuador","El Salvador","Guatemala","Haiti","Honduras","Jamaica","Mexico","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Trinidad and Tobago","United States","Uruguay","Venezuela"],"legendgroup":"Americas","marker":{"color":"#ab63fa","size":[40301927,9119152,190010647,33390141,16284741,44227550,4133884,11416987,9319622,13755680,6939688,12572928,8502814,7483763,2780132,108700891,5675356,3242173,6667147,28674757,3942491,1056608,301139947,3447496,26084662],"sizemode":"area","sizeref":366300.86,"symbol":"circle"},"mode":"markers","name":"Americas","orientation":"v","showlegend":true,"x":[12779.37964,3822.137084,9065.800825,36319.23501,13171.63885,7006.580419,9645.06142,8948.102923,6025.3747520000015,6873.262326000001,5728.353514,5186.050003,1201.637154,3548.3308460000007,7320.8802620000015,11977.57496,2749.320965,9809.185636,4172.838464,7408.905561,19328.70901,18008.50924,42951.65309,10611.46299,11415.80569],"xaxis":"x","y":[75.32,65.554,72.39,80.653,78.553,72.889,78.782,78.273,72.235,74.994,71.878,70.259,60.916,70.19800000000001,72.567,76.195,72.899,75.53699999999998,71.752,71.421,78.74600000000002,69.819,78.242,76.384,73.747],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>%{hovertext}</b><br><br>continent=Oceania<br>gdpPercap=%{x}<br>lifeExp=%{y}<br>pop=%{marker.size}<extra></extra>","hovertext":["Australia","New Zealand"],"legendgroup":"Oceania","marker":{"color":"#FFA15A","size":[20434176,4115771],"sizemode":"area","sizeref":366300.86,"symbol":"circle"},"mode":"markers","name":"Oceania","orientation":"v","showlegend":true,"x":[34435.367439999995,25185.00911],"xaxis":"x","y":[81.235,80.204],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"gdpPercap"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"lifeExp"}},"legend":{"title":{"text":"continent"},"tracegroupgap":0,"itemsizing":"constant"},"margin":{"t":60}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('98756518-a09c-4896-ae6d-0436d41c19ae');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>우선 색상으로 대륙별 기대수명과 인구를 비교할 수 있습니다. 초록색의 아프리카 대륙은 좌측 하단에 주로 위치하고 있어 인구수와 기대수명이 낮을 것을 알 수 있습니다. 아시아 국가는 버블의 크기도 다양하고 1인당 GDP도 넓은 분포를 보여주고 1인당 GDP가 높은 국가로는 <code>일본</code>, <code>한국</code>, <code>싱가포르</code>등이 있는 것을 알 수 있습니다.</p>
</section>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<ol type="1">
<li>https://plotly.com/python/bubble-charts/</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Data Visualization</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-17-plotly-bubblechart/index.html</guid>
  <pubDate>Sat, 16 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/171/200/150" medium="image"/>
</item>
<item>
  <title>날짜 범위 index 만들기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-16-date-index/index.html</link>
  <description><![CDATA[ 



<section id="날짜-범위-index-만들기" class="level1">
<h1>날짜 범위 index 만들기</h1>
<p>날짜 정보를 index로 넣는 경우 날짜 정보를 가진 series를 만들어야 합니다 이 때 <code>data_range()</code>함수를 사용할 수 있습니다. 연습을 위해서 과목의 성적을 갖는 데이터프레임을 만듭니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2"></span>
<span id="cb1-3">df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame({<span class="st" style="color: #20794D;">'Math'</span> : [<span class="dv" style="color: #AD0000;">100</span>,<span class="dv" style="color: #AD0000;">80</span>,<span class="dv" style="color: #AD0000;">80</span>,<span class="dv" style="color: #AD0000;">70</span>,<span class="dv" style="color: #AD0000;">90</span>],</span>
<span id="cb1-4">                   <span class="st" style="color: #20794D;">'Science'</span> : [<span class="dv" style="color: #AD0000;">80</span>,<span class="dv" style="color: #AD0000;">100</span>,<span class="dv" style="color: #AD0000;">20</span>,<span class="dv" style="color: #AD0000;">100</span>,<span class="dv" style="color: #AD0000;">70</span>],</span>
<span id="cb1-5">                   <span class="st" style="color: #20794D;">'English'</span> : [<span class="dv" style="color: #AD0000;">70</span>,<span class="dv" style="color: #AD0000;">80</span>,<span class="dv" style="color: #AD0000;">90</span>,<span class="dv" style="color: #AD0000;">59</span>,<span class="dv" style="color: #AD0000;">100</span>]})</span>
<span id="cb1-6">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Math</th>
      <th>Science</th>
      <th>English</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100</td>
      <td>80</td>
      <td>70</td>
    </tr>
    <tr>
      <th>1</th>
      <td>80</td>
      <td>100</td>
      <td>80</td>
    </tr>
    <tr>
      <th>2</th>
      <td>80</td>
      <td>20</td>
      <td>90</td>
    </tr>
    <tr>
      <th>3</th>
      <td>70</td>
      <td>100</td>
      <td>59</td>
    </tr>
    <tr>
      <th>4</th>
      <td>90</td>
      <td>70</td>
      <td>100</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>각 과목의 점수는 시험이 진행된 시간으로 작성되는 것이 데이터 관리에 편리할 것 같습니다. <code>data_range()</code>함수로 날짜 인덱스를 만듭니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">pd.date_range(<span class="st" style="color: #20794D;">'2021-01-01'</span>, <span class="st" style="color: #20794D;">'2021-01-10'</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>DatetimeIndex(['2021-01-01', '2021-01-02', '2021-01-03', '2021-01-04',
               '2021-01-05', '2021-01-06', '2021-01-07', '2021-01-08',
               '2021-01-09', '2021-01-10'],
              dtype='datetime64[ns]', freq='D')</code></pre>
</div>
</div>
<p>DatetimeIndex를 생성했습니다. 날짜 인덱스가 데이터보다 많이 생성됐습니다. 정해진 갯수의 날짜를 생성합니다.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">pd.date_range(start<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'1/1/2018'</span>, periods<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>DatetimeIndex(['2018-01-01', '2018-01-02', '2018-01-03', '2018-01-04',
               '2018-01-05'],
              dtype='datetime64[ns]', freq='D')</code></pre>
</div>
</div>
<p>이제 5개의 날짜 인덱스가 생성되었습니다. 각 과목의 점수는 2달마다 진행된다고 합니다. 인덱스가 시작날짜부터 2달 간격으로 늘어가면 좋겠습니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">pd.date_range(start<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'1/1/2021'</span>, periods<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">5</span>, freq<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'2M'</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>DatetimeIndex(['2021-01-31', '2021-03-31', '2021-05-31', '2021-07-31',
               '2021-09-30'],
              dtype='datetime64[ns]', freq='2M')</code></pre>
</div>
</div>
<p>함수에서 제공하는 <code>freq</code>를 이용해서 2달 간격 날짜 인덱스를 생성했습니다. frequency로 지원하는 시간정보는 [<a href="https://pandas.pydata.org/docs/user_guide/timeseries.html#timeseries-offset-aliases">여기</a>]서 확인할 수 있습니다.</p>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<ol type="1">
<li>https://pandas.pydata.org/docs/reference/api/pandas.date_range.html</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Pandas</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-16-date-index/index.html</guid>
  <pubDate>Fri, 15 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/16/200/150" medium="image"/>
</item>
<item>
  <title>Pandas 모든 컬럼이 NaN일 때만 삭제하기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-14-Dataframe-all-NaN/index.html</link>
  <description><![CDATA[ 



<section id="모든-컬럼이-nan일-때만-삭제하기" class="level1">
<h1>모든 컬럼이 NaN일 때만 삭제하기</h1>
<p>pandas에서는 NaN의 값을 갖는 데이터를 누락된 데이터라고 합니다. NaN값은 해당 인덱스 레이블에 값이 없음을 의미합니다. 아래와 같이 NaN값을 가지는 데이터프레임을 생성하고 NaN으로 처리된 없는 값을 채우는 방법을 확인 해봅니다.</p>
<section id="테스트-데이터-생성하기" class="level2">
<h2 class="anchored" data-anchor-id="테스트-데이터-생성하기">테스트 데이터 생성하기</h2>
<p>테스트를 위해서 데이터를 생성합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb1-3"></span>
<span id="cb1-4">df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame(</span>
<span id="cb1-5">  np.arange(<span class="dv" style="color: #AD0000;">0</span>, <span class="dv" style="color: #AD0000;">30</span>).reshape(<span class="dv" style="color: #AD0000;">10</span>,<span class="dv" style="color: #AD0000;">3</span>),</span>
<span id="cb1-6">  columns<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">'a'</span>,<span class="st" style="color: #20794D;">'b'</span>,<span class="st" style="color: #20794D;">'c'</span>])</span>
<span id="cb1-7">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>4</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15</td>
      <td>16</td>
      <td>17</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18</td>
      <td>19</td>
      <td>20</td>
    </tr>
    <tr>
      <th>7</th>
      <td>21</td>
      <td>22</td>
      <td>23</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24</td>
      <td>25</td>
      <td>26</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27</td>
      <td>28</td>
      <td>29</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>numpy</code>라이브러리로 0 부터 29까지 숫자를 생성하고 <code>reshape()</code>함수로 차원을 10, 3으로 변경합니다. 10개의 열과 3개의 컬럼을 갖는 형태로 변경되었습니다. 데이터프레임의 컬럼은 <code>a, b, c</code>로 리스트를 전달했습니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df.loc[[<span class="dv" style="color: #AD0000;">0</span>,<span class="dv" style="color: #AD0000;">7</span>]] <span class="op" style="color: #5E5E5E;">=</span> np.NaN</span>
<span id="cb2-2">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>12.0</td>
      <td>13.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>28.0</td>
      <td>29.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>데이터프레임에 <code>NaN</code>을 추가하기 위해서 <code>np.NaN</code>을 사용했습니다. 위치는 0, 7번째 열에 추가하기 위해 <code>df.log[[0, 7]] = np.NaN</code>을 사용합니다.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">df[(df <span class="op" style="color: #5E5E5E;">&gt;</span> <span class="dv" style="color: #AD0000;">10</span>) <span class="op" style="color: #5E5E5E;">&amp;</span> (df <span class="op" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">13</span>)] <span class="op" style="color: #5E5E5E;">=</span> np.NaN</span>
<span id="cb3-2">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>13.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>28.0</td>
      <td>29.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>전체 컬럼이 <code>NaN</code>일 때만 삭제되는 지 확인하기 위해서 일부 컬럼에만 <code>NaN</code>이 있는 경우도 만들겠습니다. <code>df[(df &gt; 10) &amp; (df &lt; 13)] = np.NaN</code>는 데이터프레임의 값이 10보다 크고 13보다 작은 위치에 <code>NaN</code>이 추가되었습니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">df.loc[<span class="dv" style="color: #AD0000;">9</span>, <span class="st" style="color: #20794D;">'b'</span>] <span class="op" style="color: #5E5E5E;">=</span> np.NAN</span>
<span id="cb4-2">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>13.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>NaN</td>
      <td>29.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>이제 컬럼정보와 index정보를 모두 이용해서 데이터를 수정합니다. 데이터프레임의 <code>index</code>가 <code>9</code>이고 컬럼이 <code>b</code>인 위치에 <code>NaN</code>을 추가합니다.</p>
</section>
<section id="nan값-찾기" class="level2">
<h2 class="anchored" data-anchor-id="nan값-찾기">NaN값 찾기</h2>
<p>데이터가 없는 NaN를 찾기 위해서는 isnull()을 사용합니다. isnull()을 사용하면 데이터프레임에서NaN으로 표시된 위치를 True로 표시한 데이터프레임을 반환합니다.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">df.isnull()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>데이터프레임 중 <code>NaN</code>으로 표시된 부분이 <code>True</code>로 설정되었습니다.</p>
</section>
<section id="결측-데이터-삭제" class="level2">
<h2 class="anchored" data-anchor-id="결측-데이터-삭제">결측 데이터 삭제</h2>
<p>데이터 프레임에 .dropna()가 사용되면 NaN값이 하나 이상 있는 모은 로우가 삭제됩니다.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">df.dropna()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>NaN</code>을 포함하는 0, 3, 4, 7, 9 열이 삭제되었습니다. 모든값이 NaN인 로우만 삭제하고 싶을 경우에는 how=‘all’ 파라메터를 사용합니다.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">df.dropna(how <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'all'</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>13.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>NaN</td>
      <td>29.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>이번에는 모든 열이 <code>NaN</code>정보를 갖는 7번 열이 삭제되었습니다. 이제 컬럼 방향으로 모두 <code>NaN</code>인 경우를 알아봅니다. 컬럼이 모두 <code>NaN</code>이라면 해당 컬럼에 해당하는 정보를 사용할 수 없으니 삭제하는 것이 좋습니다.</p>
<p>하지만 사용하고 있던 데이터가 공통으로 사용하는 원본 데이터프레임이라면 모두 <code>NaN</code>인 컬럼을 제외하여 새로운 데이터프레임을 생성하는 것이 더 좋을 수 있습니다.</p>
<p>테스트를 위한 데이터프레임을 만들 때 컬럼이 모두 <code>NaN</code>인 경우는 없었습니다. 테스트를 위해 모든 컬럼값이 <code>NaN</code>인 경우를 만들어봅니다.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">df[<span class="st" style="color: #20794D;">'d'</span>] <span class="op" style="color: #5E5E5E;">=</span> np.NaN</span>
<span id="cb8-2">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>13.0</td>
      <td>14.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>NaN</td>
      <td>29.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>데이터프레임에 모든 값이 <code>NaN</code>인 <code>d</code> 컬럼을 추가했습니다. 이제 컬럼방향으로 모두 <code>NaN</code>값을 가진 컬럼만 삭제합니다.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">df.dropna(how<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'all'</span>, axis<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>13.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>15.0</td>
      <td>16.0</td>
      <td>17.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>18.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>24.0</td>
      <td>25.0</td>
      <td>26.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>27.0</td>
      <td>NaN</td>
      <td>29.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>axis</code>를 <code>1</code>로 사용했습니다. 숫자는 데이터프레임의 shape의 순서 인덱스며 <code>1</code>은 컬럼 방향을 의미합니다.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">df.shape</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>(10, 4)</code></pre>
</div>
</div>
<p>테스트에 사용한 데이터프레임의 <code>shape</code>를 확인하면 첫번째 정보는 열, 두 번째 정보는 컬럼의 크기를 의미합니다. 위의 코드에서 사용한 <code>axis</code>는 shape의 2번째 인덱스 방향인 컬럼방향을 의미합니다.</p>
</section>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<ol type="1">
<li>https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Pandas</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-14-Dataframe-all-NaN/index.html</guid>
  <pubDate>Wed, 13 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/141/200/150" medium="image"/>
</item>
<item>
  <title>Pandas 중복 데이터 제거하기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-14-panda-dulicated-data/index.html</link>
  <description><![CDATA[ 



<section id="pandas-중복-데이터-제거하기" class="level1">
<h1>Pandas 중복 데이터 제거하기</h1>
<p>데이터프레임에는 중복 데이터가 존재할 수 있습니다. 중복 데이터가 계산 결과에 영향을 주는 의도된 데이터가 아니라면 중복 데이터를 적절하게 처리하는 것이 필요할 수 있습니다. 현업에서 진행하게 된다면 이 과정은 데이터에 대해서 이해한 업무 담당자와 확인이 필요합니다. 중복데이터 연습을 위해서 데이터프레임을 생성합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2"></span>
<span id="cb1-3">df_duplicated <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame({<span class="st" style="color: #20794D;">'city'</span>: [<span class="st" style="color: #20794D;">'seoul'</span>]<span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">3</span> <span class="op" style="color: #5E5E5E;">+</span> [<span class="st" style="color: #20794D;">'busan'</span>]<span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb1-4">                              <span class="st" style="color: #20794D;">'num'</span> : [<span class="st" style="color: #20794D;">'02'</span>] <span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">3</span> <span class="op" style="color: #5E5E5E;">+</span> [<span class="st" style="color: #20794D;">'051'</span>]<span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">2</span>})</span>
<span id="cb1-5">df_duplicated</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>city</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>1</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>3</th>
      <td>busan</td>
      <td>051</td>
    </tr>
    <tr>
      <th>4</th>
      <td>busan</td>
      <td>051</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>도시 이름에 맞는 지역번호를 정보로 저장하는 데이터프레임으로 생성합니다. city 컬럼 정보를 이용하여 지역번호를 확인하기 위해 데이터프레임을 사용한다면 city정보가 중복될 필요가 없습니다. 중복되는 데이터를 정리할 수 있습니다. 중복된 열정보는 <code>duplicated()</code>함수를 이용하여 확인합니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df_duplicated.duplicated()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>0    False
1     True
2     True
3    False
4     True
dtype: bool</code></pre>
</div>
</div>
<p>중복된 열정보를 갖는 <code>boolean</code> Series가 리턴되었습니다. 이 정보를 이용해서 중복된 열을 제거합니다. 중복된 열은 <code>drop_duplicates()</code>함수를 사용합니다. 함수의 [<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.duplicated.html">API정보</a>]를 확인하면 <code>keep</code> 파라메터를 이용해서 어떤 위치의 중복열을 <code>True</code>로 표시할지 결정합니다.</p>
<p><img src="https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-14-panda-dulicated-data/images/paste-1.png" class="img-fluid"></p>
<p>마지막 중복열을 제외한 모든 열을 <code>True</code>로 정의하기 위해서 <code>keep</code> 파라메터를 <code>last</code>로 전달합니다. 기본은 <code>first</code>값을 갖는군요.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">df_duplicated.drop_duplicates(keep<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'last'</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>city</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>4</th>
      <td>busan</td>
      <td>051</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>중복된 열의 마지막 열만 남고 중복된 열이 삭제되었습니다. 아직 <code>df_duplicated</code> 데이터프레임의 정보는 변경되지 않았다는 것을 주의해야합니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">df_duplicated</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>city</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>1</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>3</th>
      <td>busan</td>
      <td>051</td>
    </tr>
    <tr>
      <th>4</th>
      <td>busan</td>
      <td>051</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>데이터프레임을 변경하는 경우 변수에 결과값을 다시 전달하거나 함수가 <code>inplace</code>파라메터를 지원해서 데이터프레임을 바로 수정할 수 있는 지 확인해야 합니다.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">df <span class="op" style="color: #5E5E5E;">=</span> df_duplicated.drop_duplicates(keep<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'last'</span>)</span>
<span id="cb6-2">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>city</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>seoul</td>
      <td>02</td>
    </tr>
    <tr>
      <th>4</th>
      <td>busan</td>
      <td>051</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>이제 중복을 제거한 데이터프레임의 <code>city</code>컬럼의 정보가 <code>busan</code>인 열을 선택합니다. 선택을 위해서 <code>df</code>에 <code>boolean indexing</code>결과를 전달합니다.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">df[df[<span class="st" style="color: #20794D;">'city'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'busan'</span>]</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>city</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>busan</td>
      <td>051</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<ol type="1">
<li>https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.duplicated.html</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Pandas</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-14-panda-dulicated-data/index.html</guid>
  <pubDate>Wed, 13 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/14/200/150" medium="image"/>
</item>
<item>
  <title>Plotly Subpolt 만들기</title>
  <dc:creator>양성모</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-13-plotly-subplot/index.html</link>
  <description><![CDATA[ 



<section id="plotly-subplot" class="level1">
<h1>Plotly Subplot</h1>
<p>Python으로 여러개의 그래프를 비교하기 좋은 방법은 subplot을 이용한 방법인 것 같습니다. subplot을 만드는 방법과 subplot의 title작성하는 방법 그리고 subplot들에 대한 전체 title을 넣는 방법도 함께 정리합니다.</p>
<p>Plotly의 <code>make_subplots</code>함수로 subplot을 구성하고 ploty 그래프를 생성했습니다. <code>add_trace()</code>함수로 생성한 subplot에 그래프를 추가합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> plotly.graph_objects <span class="im" style="color: #00769E;">as</span> go</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">from</span> plotly.subplots <span class="im" style="color: #00769E;">import</span> make_subplots</span>
<span id="cb1-3"></span>
<span id="cb1-4">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(rows<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, cols <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-5"></span>
<span id="cb1-6">fig.add_trace(go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">3</span>], y<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">4</span>, <span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">6</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"subplot 1"</span>),</span>
<span id="cb1-7">              row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb1-8">fig.add_trace(go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">20</span>, <span class="dv" style="color: #AD0000;">30</span>], y<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">200</span>, <span class="dv" style="color: #AD0000;">300</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"subplot 2"</span>),</span>
<span id="cb1-9">              row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-10"></span>
<span id="cb1-11">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="2fbc6b65-be2c-4666-ab1b-9ae06b5732b9" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2fbc6b65-be2c-4666-ab1b-9ae06b5732b9")) {                    Plotly.newPlot(                        "2fbc6b65-be2c-4666-ab1b-9ae06b5732b9",                        [{"name":"subplot 1","x":[1,2,3],"y":[4,5,6],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"subplot 2","x":[10,20,30],"y":[100,200,300],"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.45]},"yaxis":{"anchor":"x","domain":[0.0,1.0]},"xaxis2":{"anchor":"y2","domain":[0.55,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,1.0]}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2fbc6b65-be2c-4666-ab1b-9ae06b5732b9');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<section id="subplot-세부설정" class="level2">
<h2 class="anchored" data-anchor-id="subplot-세부설정">Subplot 세부설정</h2>
<p>make_subplot의 세부 설정을 알아보고 어떻게 변경할 수 있는지 알아봅니다. 하나의 Y축을 2개의 subplot이 공유하도록 <code>shared_yaxes</code>를 사용합니다. 각각의 subplot의 크기는 <code>column_widths</code>로 변경할 수 있습니다. 2개의 subplot사이의 거리는 <code>horizontal_spacing</code>으로 정합니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;">import</span> plotly.graph_objects <span class="im" style="color: #00769E;">as</span> go</span>
<span id="cb2-2"><span class="im" style="color: #00769E;">from</span> plotly.subplots <span class="im" style="color: #00769E;">import</span> make_subplots</span>
<span id="cb2-3"></span>
<span id="cb2-4">fig <span class="op" style="color: #5E5E5E;">=</span> make_subplots(</span>
<span id="cb2-5">    rows<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, cols<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb2-6">    shared_yaxes<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,</span>
<span id="cb2-7">    horizontal_spacing<span class="op" style="color: #5E5E5E;">=</span><span class="fl" style="color: #AD0000;">0.05</span>,</span>
<span id="cb2-8">    column_widths<span class="op" style="color: #5E5E5E;">=</span>[<span class="fl" style="color: #AD0000;">0.3</span>, <span class="fl" style="color: #AD0000;">0.7</span>]</span>
<span id="cb2-9">)</span>
<span id="cb2-10"></span>
<span id="cb2-11"></span>
<span id="cb2-12">fig.add_trace(go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">3</span>], y<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">4</span>, <span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">6</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"subplot 1"</span>),</span>
<span id="cb2-13">              row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb2-14">fig.add_trace(go.Scatter(x<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">20</span>, <span class="dv" style="color: #AD0000;">30</span>], y<span class="op" style="color: #5E5E5E;">=</span>[<span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">20</span>, <span class="dv" style="color: #AD0000;">30</span>], name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"subplot 2"</span>),</span>
<span id="cb2-15">              row<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">1</span>, col<span class="op" style="color: #5E5E5E;">=</span><span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb2-16"></span>
<span id="cb2-17">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="017e259a-2b4c-4e4f-a48f-c856ac6ddffd" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("017e259a-2b4c-4e4f-a48f-c856ac6ddffd")) {                    Plotly.newPlot(                        "017e259a-2b4c-4e4f-a48f-c856ac6ddffd",                        [{"name":"subplot 1","x":[1,2,3],"y":[4,5,6],"type":"scatter","xaxis":"x","yaxis":"y"},{"name":"subplot 2","x":[10,20,30],"y":[10,20,30],"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.285]},"yaxis":{"anchor":"x","domain":[0.0,1.0]},"xaxis2":{"anchor":"y2","domain":[0.33499999999999996,0.9999999999999999]},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('017e259a-2b4c-4e4f-a48f-c856ac6ddffd');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="참고" class="level2">
<h2 class="anchored" data-anchor-id="참고">참고</h2>
<ol type="1">
<li>https://chancoding.tistory.com/229</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Data Visualization</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-13-plotly-subplot/index.html</guid>
  <pubDate>Tue, 12 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/131/200/150" medium="image"/>
</item>
<item>
  <title>Markdown문법 정리하기</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-12-markdown/index.html</link>
  <description><![CDATA[ 



<section id="markdown" class="level1">
<h1>Markdown</h1>
<p>마크다운은 텍스트를 이용해 문서를 작성하는 도구입니다. 일반 텍스트를 이용해서 Table, 링크 등 다양한 문서형태를 작성할 수 있습니다. Quart는 Pandoc을 기반으로 하고 있으며 Markdown으로 문서를 작성합니다. 자주 사용하는 Markdown 문법을 정리합니다.</p>
<section id="text-formatting" class="level2">
<h2 class="anchored" data-anchor-id="text-formatting">Text Formatting</h2>
<p>텍스트의 형태를 변경하는 다양한 문법을 확인합니다.</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1">*italics*, **bold**, ***bold italics***</span></code></pre></div></td>
<td><em>italics</em>, <strong>bold</strong>, <strong><em>bold italics</em></strong></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1">superscript^2^ / subscript~2~</span></code></pre></div></td>
<td>superscript<sup>2</sup> / subscript<sub>2</sub></td>
</tr>
<tr class="odd">
<td><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1">~~strikethrough~~</span></code></pre></div></td>
<td><del>strikethrough</del></td>
</tr>
</tbody>
</table>
</section>
<section id="link-및-이미지-연결" class="level2">
<h2 class="anchored" data-anchor-id="link-및-이미지-연결">Link 및 이미지 연결</h2>
<p>링크에 보일 글자와 함께 링크정보를 표시합니다.</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><span class="fu" style="color: #4758AB;"># 링크 연결</span></span>
<span id="cb4-2"><span class="ot" style="color: #003B4F;">&lt;https://quarto.org&gt;</span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;">[</span><span class="ot" style="color: #003B4F;">Quarto</span><span class="co" style="color: #5E5E5E;">](https://quarto/org)</span></span></code></pre></div>
<p><a href="https://quarto.org" class="uri">https://quarto.org</a> <a href="https://quarto/org">Quarto</a></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><span class="fu" style="color: #4758AB;"># 이미지표시</span></span>
<span id="cb5-2"><span class="al" style="color: #AD0000;">![Caption](cover.png)</span></span></code></pre></div>
<p><img src="https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-12-markdown/cover.jpg" class="img-fluid"></p>
</section>
<section id="table" class="level2">
<h2 class="anchored" data-anchor-id="table">Table</h2>
<p>Markdown으로 table을 구성하는 방법을 정리합니다.</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1">| Right | Left | Default | Center |</span>
<span id="cb6-2">|------:|:-----|---------|:------:|</span>
<span id="cb6-3">|   12  |  12  |    12   |    12  |</span>
<span id="cb6-4">|  123  |  123 |   123   |   123  |</span>
<span id="cb6-5">|    1  |    1 |     1   |     1  |</span></code></pre></div>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">Right</th>
<th style="text-align: left;">Left</th>
<th>Default</th>
<th style="text-align: center;">Center</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">12</td>
<td style="text-align: left;">12</td>
<td>12</td>
<td style="text-align: center;">12</td>
</tr>
<tr class="even">
<td style="text-align: right;">123</td>
<td style="text-align: left;">123</td>
<td>123</td>
<td style="text-align: center;">123</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">1</td>
<td>1</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
</section>
<section id="소스-코드" class="level2">
<h2 class="anchored" data-anchor-id="소스-코드">소스 코드</h2>
<p>Quarto에서 소스코드를 추가하는 방법을 정리힙니다.</p>
<p>코드의 처음과 마지막에 <code>```</code>를 이용해서 코드 영역을 표시합니다.</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><span class="in" style="color: #5E5E5E;">```</span></span>
<span id="cb7-2"><span class="in" style="color: #5E5E5E;">code</span></span>
<span id="cb7-3"><span class="in" style="color: #5E5E5E;">```</span></span></code></pre></div>
<p>코드에 맞는 언어를 표시하여 언어별 코드 하이라이트를 적용할 수 있습니다.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><span class="in" style="color: #5E5E5E;">```python</span></span>
<span id="cb8-2"><span class="dv" style="color: #AD0000;">1</span> <span class="op" style="color: #5E5E5E;">+</span> <span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb8-3"><span class="in" style="color: #5E5E5E;">```</span></span></code></pre></div>
<p>Pandoc에서 지원하는 하이라이트 기능을 사용할 수 있습니다. <a href="https://github.com/jgm/skylighting/tree/master/skylighting-core/xml">140 언어 지원</a> 정보를 확인하세요. 만약 지원하는 언어가 없다면 <code>default</code>를 사용할 수 있습니다.</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><span class="in" style="color: #5E5E5E;">```default</span></span>
<span id="cb9-2"><span class="in" style="color: #5E5E5E;">code</span></span>
<span id="cb9-3"><span class="in" style="color: #5E5E5E;">```</span></span></code></pre></div>
</section>
<section id="수식" class="level2">
<h2 class="anchored" data-anchor-id="수식">수식</h2>
<p><code>$</code> 구분기호를 이용하여 인라인 수식을 추가하고 <code>$$</code> 구분기호를 이용하여 수식만 표현할 수 있습니다.</p>
<table class="table">
<colgroup>
<col style="width: 38%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1">인라인 수식: $E = mc^{2}$</span></code></pre></div></td>
<td>인라인 수식: <img src="https://latex.codecogs.com/png.latex?E=mc%5E%7B2%7D"></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1">수식 단독표현:</span>
<span id="cb11-2"></span>
<span id="cb11-3">$$E = mc^{2}$$</span></code></pre></div></td>
<td><p>수식 단독표현:</p>
<p><img src="https://latex.codecogs.com/png.latex?E%20=%20mc%5E%7B2%7D"></p></td>
</tr>
</tbody>
</table>
</section>
<section id="다이어그램" class="level2">
<h2 class="anchored" data-anchor-id="다이어그램">다이어그램</h2>
<p>Quarto는 <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a>와 <a href="https://graphviz.org/">Graphviz</a> 다이어그램을 지원합니다. 플로우차트, 시퀀스 다이어그램, 스테이트 다이어그램, 간트차트등을 그릴 수 있습니다. Mermaid를 이용해서 플로우 차트를 생성합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><span class="in" style="color: #5E5E5E;">```{mermaid}</span></span>
<span id="cb12-2">flowchart LR</span>
<span id="cb12-3">  A[입력] --&gt; B(전처리)</span>
<span id="cb12-4">  B --&gt; C{판단로직}</span>
<span id="cb12-5">  C --&gt; D[성공]</span>
<span id="cb12-6">  C --&gt; E[실패]</span>
<span id="cb12-7"><span class="in" style="color: #5E5E5E;">```</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-1">flowchart LR
  A[입력] --&gt; B(전처리)
  B --&gt; C{판단로직}
  C --&gt; D[성공]
  C --&gt; E[실패]
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
</div>
</div>
</div>
</section>
<section id="동영상-연결" class="level2">
<h2 class="anchored" data-anchor-id="동영상-연결">동영상 연결</h2>
<p>문서 내부에 동영상을 연결할 수 있습니다. <code>{{&lt; video &gt;}}</code> 를 이용해서 유튜브 동영상은 연결할 수 있습니다.</p>
<div class="sourceCode" id="cb13" data-shortcodes="false" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1">{{&lt; video https://www.youtube.com/embed/wo9vZccmqwc &gt;}}</span></code></pre></div>
<div class="quarto-video ratio ratio-16x9"><iframe src="https://www.youtube.com/embed/wo9vZccmqwc" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="html-코드-divs-spans" class="level2">
<h2 class="anchored" data-anchor-id="html-코드-divs-spans">HTML 코드 (Divs, Spans)</h2>
<p>HTML의 <code>div</code> 블럭을 만들 수 있습니다. <code>class</code> 정보를 <code>border</code>로 정의합니다.</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1">::: {#special .border}</span>
<span id="cb14-2">class를 "border"로 정의한 div block으로 변환됩니다.</span>
<span id="cb14-3">:::</span></code></pre></div>
<p>Quarto를 렌터링하고 나면 아래의 HTML 코드로 변경됩니다.</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb15-1"><span class="kw" style="color: #003B4F;">&lt;div</span> <span class="er" style="color: #AD0000;">id</span><span class="ot" style="color: #003B4F;">=</span><span class="st" style="color: #20794D;">"special"</span> <span class="er" style="color: #AD0000;">class</span><span class="ot" style="color: #003B4F;">=</span><span class="st" style="color: #20794D;">"border"</span><span class="kw" style="color: #003B4F;">&gt;</span></span>
<span id="cb15-2">  <span class="kw" style="color: #003B4F;">&lt;p&gt;</span>class를 "border"로 정의한 div block으로 변환됩니다.<span class="kw" style="color: #003B4F;">&lt;/p&gt;</span></span>
<span id="cb15-3"><span class="kw" style="color: #003B4F;">&lt;/div&gt;</span></span></code></pre></div>
<p>대괄호 <code>[]</code>로 표현된 문자열은 <code>span</code>으로 변환됩니다.</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><span class="co" style="color: #5E5E5E;">[</span><span class="ot" style="color: #003B4F;">테스트 *SPAN* 코드입니다.</span><span class="co" style="color: #5E5E5E;">]</span>{.class key="val"}</span></code></pre></div>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb17-1"><span class="kw" style="color: #003B4F;">&lt;span</span> <span class="er" style="color: #AD0000;">class</span><span class="ot" style="color: #003B4F;">=</span><span class="st" style="color: #20794D;">"class"</span> <span class="er" style="color: #AD0000;">data-key</span><span class="ot" style="color: #003B4F;">=</span><span class="st" style="color: #20794D;">"val"</span><span class="kw" style="color: #003B4F;">&gt;</span></span>
<span id="cb17-2">  테스트 <span class="kw" style="color: #003B4F;">&lt;em&gt;</span>SPAN<span class="kw" style="color: #003B4F;">&lt;/em&gt;</span> 코드입니다.</span>
<span id="cb17-3"><span class="kw" style="color: #003B4F;">&lt;/span&gt;</span></span></code></pre></div>
</section>
<section id="참고" class="level2">
<h2 class="anchored" data-anchor-id="참고">참고</h2>
<ol type="1">
<li>https://quarto.org/docs/authoring/markdown-basics.html</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Quarto</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-12-markdown/index.html</guid>
  <pubDate>Mon, 11 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/12/200/150" medium="image"/>
</item>
<item>
  <title>Pandas 데이터프레임 머지</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-11-pandas-merge/index.html</link>
  <description><![CDATA[ 



<section id="테이터프레임-머지하기" class="level1">
<h1>테이터프레임 머지하기</h1>
<p>병합은 서로다른 데이터프레임 객체에 동일하게 존재하는 값을 통해 양쪽 데이터를 연관 지어 하나의 데이터프레임으로 모델링할 수 있는 유용한 방법입니다. 연습을 위해서 데이터를 준비합니다.</p>
<p><code>Yahoo Finance</code>에서는 미국뿐 아니라 한국 주식에 대한 정보를 제공합니다. <code>KOSPI</code>주식 정보를 csv형태로 저장해서 데이터프레임 머지 연습에 사용할께요. <a href="https://finance.yahoo.com/quote/%5EKS11?p=%5EKS11&amp;.tsrc=fin-srch">Yahoo Finance</a>로 이동해서 <code>historica l data</code> 탭을 선택합니다.</p>
<p><img src="https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-11-pandas-merge/images/paste-1.png" class="img-fluid"></p>
<p><code>Historical Data</code> 를 선택하면 위와 같이 <code>KOSPI</code> 에 대한 시계열 데이터를 얻을 수 있습니다. <code>download</code>를 눌러 다운로드하여 저장합니다. 혹은 [<a href="../../../../../../website/docs/blog/posts/2023/09/2023-09-11-pandas-merge/KS11.csv">KS11.csv</a>]에서 다운로드 하세요.</p>
<section id="데이터-로드하기" class="level2">
<h2 class="anchored" data-anchor-id="데이터-로드하기">데이터 로드하기</h2>
<p>csv파일을 불러와서 데이터프레임 형태를 확인합니다. 시계열데이터의 경우 날짜정보를 데이터프레임의 <code>index</code>로 사용하면 편리합니다. <code>data</code>컬럼을 index로 설정합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2">kospi <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">"./^KS11.csv"</span>, index_col <span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Date'</span>)</span>
<span id="cb1-3">kospi.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-13</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>366900</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>2390.469971</td>
      <td>2418.419922</td>
      <td>2381.500000</td>
      <td>2411.419922</td>
      <td>2411.419922</td>
      <td>461300</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>2416.010010</td>
      <td>2421.629883</td>
      <td>2401.830078</td>
      <td>2401.830078</td>
      <td>2401.830078</td>
      <td>423900</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>2387.560059</td>
      <td>2395.100098</td>
      <td>2371.110107</td>
      <td>2382.780029</td>
      <td>2382.780029</td>
      <td>440300</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>2388.729980</td>
      <td>2389.850098</td>
      <td>2352.760010</td>
      <td>2355.659912</td>
      <td>2355.659912</td>
      <td>403700</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>날짜정보가 index로 설정된 데이터프레임을 생성했습니다. 이제 연결을 위한 새로운 데이터프레임을 생성합니다. 데이트 프레임을 연결할 정보를 <code>Ticker</code>라는 컬럼으로 설정하고 기존 데이터프레임의 <code>Volume</code>컬럼을 추가합니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">kospi_volume <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame ({<span class="st" style="color: #20794D;">'Ticker'</span>: <span class="st" style="color: #20794D;">'kospi'</span>, <span class="st" style="color: #20794D;">'Volume'</span> : kospi[<span class="st" style="color: #20794D;">'Volume'</span>]})</span>
<span id="cb2-2">kospi_volume.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Ticker</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-13</th>
      <td>kospi</td>
      <td>366900</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>kospi</td>
      <td>461300</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>kospi</td>
      <td>423900</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>kospi</td>
      <td>440300</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>kospi</td>
      <td>403700</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>2개의 데이터프레임이 함께 갖는 컬럼인 ’Ticker’를 통해서 병합을 진행하고 이를 통해서 <code>Volume</code>정보를 추가하려고 합니다. 올바르게 동작하는 지 확인하기 위해서 기존 데이터프레임의 <code>Volume</code> 컬럼을 삭제합니다.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">kospi[<span class="st" style="color: #20794D;">'Ticker'</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'kospi'</span></span>
<span id="cb3-2">kospi.pop(<span class="st" style="color: #20794D;">'Volume'</span>)</span>
<span id="cb3-3">kospi.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Ticker</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-09-13</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>2390.469971</td>
      <td>2418.419922</td>
      <td>2381.500000</td>
      <td>2411.419922</td>
      <td>2411.419922</td>
      <td>kospi</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>2416.010010</td>
      <td>2421.629883</td>
      <td>2401.830078</td>
      <td>2401.830078</td>
      <td>2401.830078</td>
      <td>kospi</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>2387.560059</td>
      <td>2395.100098</td>
      <td>2371.110107</td>
      <td>2382.780029</td>
      <td>2382.780029</td>
      <td>kospi</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>2388.729980</td>
      <td>2389.850098</td>
      <td>2352.760010</td>
      <td>2355.659912</td>
      <td>2355.659912</td>
      <td>kospi</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>Volume</code>컬럼이 삭제되었으니 병합을 진행합니다. <code>pd.merge()</code>함수를 사용하고 공통 컬럼인 <code>Ticker</code>컬럼을 전달합니다.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">merged_df <span class="op" style="color: #5E5E5E;">=</span> pd.merge(kospi, kospi_volume, on<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Ticker'</span>)</span>
<span id="cb4-2">merged_df.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Adj Close</th>
      <th>Ticker</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
      <td>366900</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
      <td>461300</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
      <td>423900</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
      <td>440300</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2418.590088</td>
      <td>2453.949951</td>
      <td>2418.590088</td>
      <td>2449.540039</td>
      <td>2449.540039</td>
      <td>kospi</td>
      <td>403700</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>이제 새로운 <code>merged_df</code> 데이터프레임은 2개의 데이터프레임을 연결하여 <code>Volume</code>정보를 추가 하였습니다.</p>


</section>
</section>

 ]]></description>
  <category>Pandas</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-11-pandas-merge/index.html</guid>
  <pubDate>Sun, 10 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/111/200/150" medium="image"/>
</item>
<item>
  <title>Quarto Callout Block</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-10-quarto-callout/index.html</link>
  <description><![CDATA[ 



<p>Quarto를 이용해 문서를 작성하는 과정에서 강조할 내용이 있는 경우 <code>Callout Block</code>을 사용하는 것이 좋습니다. 자산이 작성한 글에 집중이 필요한 내용을 명확하게 나타낼 수 있습니다. 공부한 내용을 정리합니다.</p>
<section id="callout-종류" class="level2">
<h2 class="anchored" data-anchor-id="callout-종류">Callout 종류</h2>
<p><code>Callout Block</code>은 총 아래의 <code>note</code>, <code>warning</code>, <code>important</code>, <code>tip</code>, <code>caution</code> 5가지 종류를 갖습니다. 실제 어떻게 적용되는지 아래에서 살펴보세요.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>note</code> 타입을 사용합니다.</p>
</div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>warning</code> 타입을 사용합니다.</p>
</div>
</div>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>important</code> 타입을 사용합니다.</p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>tip</code> 타입을 사용합니다.</p>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Danger
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>caution</code> 타입을 사용합니다.</p>
</div>
</div>
<p>Markdown으로 어떻게 구현하는 지 확인해봅시다. <code>:::</code> 키워드를 사용했고 <code>Callout Block</code>형식은 <code>{}</code>로 표시합니다.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1">::: {.callout-caution}</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;"># 제목을 추가합니다.</span></span>
<span id="cb1-3">Callout <span class="in" style="color: #5E5E5E;">`caution`</span> 타입을 사용합니다.</span>
<span id="cb1-4">:::</span></code></pre></div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
제목을 추가합니다.
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>caution</code> 타입을 사용합니다.</p>
</div>
</div>
</section>
<section id="다양한-사용자-설정" class="level2">
<h2 class="anchored" data-anchor-id="다양한-사용자-설정">다양한 사용자 설정</h2>
<section id="제목-추가하기" class="level3">
<h3 class="anchored" data-anchor-id="제목-추가하기">제목 추가하기</h3>
<p>아이콘은 유지하고 제목을 변경하고 싶은 경우가 있습니다. 이 경우 <code>header</code> 마크다운을 사용합니다.</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1">::: {.callout-caution}</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;"># 제목을 추가합니다.</span></span>
<span id="cb2-3">Callout <span class="in" style="color: #5E5E5E;">`caution`</span> 타입을 사용합니다.</span>
<span id="cb2-4">:::</span></code></pre></div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
제목을 추가합니다.
</div>
</div>
<div class="callout-body-container callout-body">
<p>Callout <code>caution</code> 타입을 사용합니다.</p>
</div>
</div>
</section>
<section id="형태-변경하기" class="level3">
<h3 class="anchored" data-anchor-id="형태-변경하기">형태 변경하기</h3>
<p><code>Callout Block</code>의 외형은 <code>default</code>, <code>simple</code>, <code>minimam</code> 형태를 지원합니다. 각각이 어떻게 표현되는지 알아봅니다.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Default 외형
</div>
</div>
<div class="callout-body-container callout-body">
<p>default 외형을 확인합니다.</p>
</div>
</div>
<div class="callout-note callout callout-style-simple callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
simple 외형
</div>
</div>
<div class="callout-body-container callout-body">
<p>simple 외형을 확인합니다.</p>
</div>
</div>
<div class="callout-note callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
minimal 외형
</div>
</div>
<div class="callout-body-container callout-body">
<p>minimal 외형을 확인합니다.</p>
</div>
</div>
<p>코드는 아래와 같이 사용합니다. <code>appearance</code>가 추가되었습니다.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1">::: {.callout-note appearance="minimal"}</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;"># Default 외형</span></span>
<span id="cb3-3">default 외형을 확인합니다.</span>
<span id="cb3-4">:::</span></code></pre></div>


</section>
</section>

 ]]></description>
  <category>Quarto</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-10-quarto-callout/index.html</guid>
  <pubDate>Sat, 09 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/10/200/150" medium="image"/>
</item>
<item>
  <title>Pandas 데이터 전처리</title>
  <dc:creator>gabriel yang</dc:creator>
  <link>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-11-pandas-datatype-transform/index.html</link>
  <description><![CDATA[ 



<section id="테이터-전처리" class="level1">
<h1>테이터 전처리</h1>
<p>데이터시각화 및 데이터분석을 위해 읽어온 원본 데이터의 데이터 타입이 올바른지 확인하지 않으면 분석과정에 사용하는 다양한 통계적 지표나 필터결과가 오류를 발생합니다. 데이터에 맞는 형식으로 변경되지 않은 데이터프레임을 사용할 때 발생하는 문제점을 확인하고 올바르게 데이터 형식으로 변경하는 과정을 정리합니다.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> datetime <span class="im" style="color: #00769E;">as</span> dt</span>
<span id="cb1-3"></span>
<span id="cb1-4">df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame({<span class="st" style="color: #20794D;">"year"</span>: [<span class="st" style="color: #20794D;">'1900'</span>,<span class="st" style="color: #20794D;">'1901'</span>,<span class="st" style="color: #20794D;">'1910'</span>,<span class="st" style="color: #20794D;">'2021'</span>, <span class="st" style="color: #20794D;">'2023'</span>],</span>
<span id="cb1-5">                   <span class="st" style="color: #20794D;">"n_sales"</span> : [<span class="st" style="color: #20794D;">'10EA'</span>, <span class="st" style="color: #20794D;">'20EA'</span>, <span class="st" style="color: #20794D;">'40EA'</span>, <span class="st" style="color: #20794D;">'100EA'</span>, <span class="st" style="color: #20794D;">'210EA'</span>],</span>
<span id="cb1-6">                   <span class="st" style="color: #20794D;">"status"</span> : [<span class="st" style="color: #20794D;">'good'</span>, <span class="st" style="color: #20794D;">'bad'</span>, <span class="st" style="color: #20794D;">'normal'</span>, <span class="st" style="color: #20794D;">'bad'</span>, <span class="st" style="color: #20794D;">'good'</span>]})</span>
<span id="cb1-7">df</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>n_sales</th>
      <th>status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1900</td>
      <td>10EA</td>
      <td>good</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1901</td>
      <td>20EA</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1910</td>
      <td>40EA</td>
      <td>normal</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021</td>
      <td>100EA</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023</td>
      <td>210EA</td>
      <td>good</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>데이터 프레임은 <code>year</code>, <code>n_sales</code>, <code>status</code> 3개의 컬럼을 갖습니다. 각 컬럼이 어떤 데이터 타입인지 확인해볼까요? 데이터프레임의 정보를 보여주는 <code>info()</code>함수로 데이터 타입을 확인합니다.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df.info()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 5 entries, 0 to 4
Data columns (total 3 columns):
 #   Column   Non-Null Count  Dtype 
---  ------   --------------  ----- 
 0   year     5 non-null      object
 1   n_sales  5 non-null      object
 2   status   5 non-null      object
dtypes: object(3)
memory usage: 248.0+ bytes</code></pre>
</div>
</div>
<p>예상했던 데이터 형식과 다릅니다. <code>n_sales</code>는 숫자를 표현하고 있기 때문에 <code>int</code> 타입으로 표현되어야 할 것 같은데 <code>object</code>타입이네요. 데이터 프레임의 통계정보를 보여주는 <code>describe()</code>함수를 사용하면 차이를 알 수 있습니다.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">df[<span class="st" style="color: #20794D;">'n_sales'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>count        5
unique       5
top       10EA
freq         1
Name: n_sales, dtype: object</code></pre>
</div>
</div>
<p>위의 코드 실행결과에서 확인할 수 있는 것처럼 <code>n_sales</code>컬럼의 통계 정보는 <code>categorical</code> 통계정보가 출력됩니다. 숫자로 표현되지 않아서 예상했던 <code>평균</code>, <code>표준편차</code> 등의 정보는 알 수 없습니다.</p>
<section id="데이터-타입-변경하기" class="level2">
<h2 class="anchored" data-anchor-id="데이터-타입-변경하기">데이터 타입 변경하기</h2>
<p>데이터에 대한 적절한 전처리가 되지 않는 경우 잘못된 통계정보를 이용할 수 있기 때문에 적절한 전처리가 필요합니다. 위에서 만든 데이터프레임의 각 컬럼에 올바른 데이터타입을 적용해야 합니다.</p>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>n_sales</th>
      <th>status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1900</td>
      <td>10EA</td>
      <td>good</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1901</td>
      <td>20EA</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1910</td>
      <td>40EA</td>
      <td>normal</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021</td>
      <td>100EA</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023</td>
      <td>210EA</td>
      <td>good</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>일반적으로 데이터 타입 변경은 데이터에 대한 이해가 필요합니다. <code>year</code>의 경우 날짜를 표현하고 있고 <code>n_sales</code>의 <code>EA</code>는 단위이기 때문에 꼭 필요한 정보가 아니라면 삭제 가능합니다. 이 두 가지 데이터 컬럼은 숫자를 표현하고 있으니 <code>int</code> 타입으로 변경합니다. 마지막 <code>status</code> 컬럼은 명백히 <code>categorical</code> 데이터입니다.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">df[<span class="st" style="color: #20794D;">'year'</span>] <span class="op" style="color: #5E5E5E;">=</span> pd.to_datetime(df[<span class="st" style="color: #20794D;">'year'</span>])</span>
<span id="cb6-2">df[<span class="st" style="color: #20794D;">'n_sales'</span>] <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'n_sales'</span>].<span class="bu" style="color: null;">str</span>.strip(<span class="st" style="color: #20794D;">'EA'</span>).astype(<span class="st" style="color: #20794D;">'int'</span>)</span>
<span id="cb6-3">df[<span class="st" style="color: #20794D;">'status'</span>] <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'status'</span>].astype(<span class="st" style="color: #20794D;">'category'</span>)</span></code></pre></div>
</div>
<p>위의 <code>to_datatime()</code>과 <code>astype()</code>함수를 이용해서 각 컬럼을 ‘datetime’, ‘int’, ‘categorical’ 타입으로 변경했습니다. 단위를 제거하기 위해서 ‘strip()’ 함수를 사용한 것을 참고하세요.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">df.info()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 5 entries, 0 to 4
Data columns (total 3 columns):
 #   Column   Non-Null Count  Dtype         
---  ------   --------------  -----         
 0   year     5 non-null      datetime64[ns]
 1   n_sales  5 non-null      int64         
 2   status   5 non-null      category      
dtypes: category(1), datetime64[ns](1), int64(1)
memory usage: 345.0 bytes</code></pre>
</div>
</div>
<p>수정된 데이터 프레임은 올바른 데이터 타입을 갖습니다. 이제 데이터프레임의 통계정보를 확인하겠습니다.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">df[<span class="st" style="color: #20794D;">'n_sales'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>count      5.000000
mean      76.000000
std       82.643814
min       10.000000
25%       20.000000
50%       40.000000
75%      100.000000
max      210.000000
Name: n_sales, dtype: float64</code></pre>
</div>
</div>
<p>이제 예상한 것과 같이 <code>n_sales</code>에 대한 <code>평균</code>, <code>표준편차</code> 등의 통계정보를 확인할 수 있습니다.</p>


</section>
</section>

 ]]></description>
  <category>Pandas</category>
  <guid>https://gabrielwithappy.github.io/docs/blog/posts/2023/09/2023-09-11-pandas-datatype-transform/index.html</guid>
  <pubDate>Sat, 09 Sep 2023 15:00:00 GMT</pubDate>
  <media:content url="https://picsum.photos/id/110/200/150" medium="image"/>
</item>
</channel>
</rss>
